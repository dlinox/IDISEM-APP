import{u as w,c as C,w as h,o as r,a as t,t as $,e as i,b as q,k as u,d as _,v as p,g as b,r as f,F as y,h as v}from"./app.e69348ce.js";import{A as N}from"./AdminLayout.9a43a6f3.js";import{V as A}from"./vue-draggable-next.esm-bundler.2f28c334.js";/* empty css                                                                              */import j from"./CalificacionEncuestaComponent.922fea82.js";import B from"./DropDownTypeComponent.2cd3a83a.js";import D from"./TypeContentComponent.7a16d131.js";import"./logo.01f735ba.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./ModalComponent.99b1e37a.js";import"./SingleOptionComponent.ad9ba8e6.js";import"./LinearScaleComponent.f8f22ce6.js";const E={class:"container"},F={class:"my-3"},O={class:"fs-4 mb-0"},Q=["onSubmit"],T={class:"card border-0 bg-transparent"},z={class:"card-body bg-white"},J={class:"d-flex justify-content-end"},L=t("button",{type:"submit",class:"btn btn-primary ms-3"},[t("i",{class:"bi bi-save me-2"}),v(" Guardar ")],-1),M={class:"d-flex mt-3 mb-2"},G={class:"d-flex my-3"},P={class:"accordion",id:"accordionSection"},H=["id"],I={class:"accordion-button rounded-0"},K=["onUpdate:modelValue","placeholder"],R=["data-bs-target","aria-controls"],W=t("i",{class:"bi bi-caret-down"},null,-1),X=[W],Y=["id","aria-labelledby"],Z={class:"accordion-body px-2 border border-light"},tt={class:"card-header border-0"},ot={class:"d-flex mt-3 mb-2"},et=["onUpdate:modelValue","placeholder","disabled"],st={class:"card-body"},nt={class:"card-footer border-0"},it={class:"d-flex justify-content-end"},lt=["onClick"],ct=t("i",{class:"bi bi-collection"},null,-1),at=[ct],dt=["onClick"],rt=t("i",{class:"bi bi-trash"},null,-1),ut=[rt],_t={class:"d-flex justify-content-end"},pt=["onClick"],bt=t("i",{class:"bi bi-plus-square-dotted"},null,-1),mt=[bt],ht={class:"d-flex justify-content-end py-2"},ft=t("i",{class:"bi bi-plus-square-dotted me-2"},null,-1),At={__name:"Editar",props:{encuesta:Object,seciones:Array,calificaciones:Array},setup(g){const a=g,o=w({titulo:null,descripcion:"",calificaciones:[{id:null,detalle:null,mensaje:null,img:null,min:null,max:null}],secciones:[{id:null,titulo:"",preguntas:[{id:null,titulo:"",tipo:"",opcion:"",opciones:[{id:null,detalle:null,ponderado:null}]}]}]});function V(d){console.log(JSON.parse(JSON.stringify(o))),console.log(a.encuesta.enc_id),o.put("/admin/encuestas/"+a.encuesta.enc_id)}const x={title:"",type:{},content:{}},k=()=>{o.questions.push({...x})},S=d=>{o.questions.push({...d})},U=d=>{o.questions.splice(d,1)};return(()=>{o.titulo=a.encuesta.enc_titulo,o.descripcion=a.encuesta.enc_descripcion,o.secciones=a.seciones,o.calificaciones=a.calificaciones})(),(d,l)=>(r(),C(N,null,{default:h(()=>[t("div",E,[t("div",F,[t("h1",O," Editar : "+$(i(o).titulo),1)]),t("form",{onSubmit:q(V,["prevent"])},[t("div",T,[t("div",z,[t("div",J,[u(j,{modelValue:i(o).calificaciones,"onUpdate:modelValue":l[0]||(l[0]=s=>i(o).calificaciones=s)},null,8,["modelValue"]),L]),t("div",M,[_(t("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>i(o).titulo=s),type:"text",class:"form-control",placeholder:"Titulo de la encuesta"},null,512),[[p,i(o).titulo]])]),t("div",G,[_(t("textarea",{"onUpdate:modelValue":l[2]||(l[2]=s=>i(o).descripcion=s),class:"form-control",rows:"2",placeholder:"Descripcin de la encuesta"},null,512),[[p,i(o).descripcion]])])]),t("div",P,[(r(!0),b(y,null,f(i(o).secciones,(s,n)=>(r(),b("div",{key:n,class:"accordion-item border-0 bg-transparent"},[t("div",{class:"accordion-header",id:"accordionSection-h"+n},[t("div",I,[_(t("input",{"onUpdate:modelValue":e=>s.titulo=e,type:"text",class:"form-control me-2",placeholder:"Seccion "+(n+1)},null,8,K),[[p,s.titulo]]),t("button",{class:"btn btn-dark",type:"button","data-bs-toggle":"collapse","data-bs-target":"#accordionSection-c"+n,"aria-expanded":"true","aria-controls":"accordionSection-c"+n},X,8,R)])],8,H),t("div",{id:"accordionSection-c"+n,class:"accordion-collapse collapse show","aria-labelledby":"accordionSection-"+n},[t("div",Z,[u(i(A),{list:s.preguntas},{default:h(()=>[(r(!0),b(y,null,f(s.preguntas,(e,m)=>(r(),b("div",{key:m,class:"card shadow border-0 mb-3"},[t("div",tt,[t("div",ot,[_(t("input",{"onUpdate:modelValue":c=>e.titulo=c,type:"text",class:"form-control",placeholder:"Pregunta "+(m+1),disabled:!e.tipo},null,8,et),[[p,e.titulo]]),u(B,{modelValue:e.tipo,"onUpdate:modelValue":c=>e.tipo=c},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",st,[u(D,{"selected-type":e.tipo,modelValue:e.opciones,"onUpdate:modelValue":c=>e.opciones=c},null,8,["selected-type","modelValue","onUpdate:modelValue"])]),t("div",nt,[t("div",it,[t("button",{type:"button",class:"btn btn-dark ms-2",onClick:c=>S(e,n)},at,8,lt),t("button",{type:"button",class:"btn btn-outline-secondary ms-2",onClick:c=>U(m,n)},ut,8,dt)])])]))),128))]),_:2},1032,["list"]),t("div",_t,[t("button",{type:"button",class:"btn btn-success",onClick:e=>k(n)},mt,8,pt)])])],8,Y)]))),128))]),t("div",ht,[t("button",{class:"btn btn-success",type:"button",onClick:l[3]||(l[3]=s=>d.addSection())},[ft,v(" A\xF1adir Seccion")])])])],40,Q)])]),_:1}))}};export{At as default};
